<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>IrodsShare module documentation &mdash; IrodsShare 0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="IrodsShare 0.2 documentation" href="index.html" />
    <link rel="next" title="IrodsShare Object Library" href="objects.html" />
    <link rel="prev" title="IrodsShare HSAccess usage" href="usage.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="objects.html" title="IrodsShare Object Library"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="IrodsShare HSAccess usage"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">IrodsShare 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="irodsshare-module-documentation">
<h1>IrodsShare module documentation<a class="headerlink" href="#irodsshare-module-documentation" title="Permalink to this headline">¶</a></h1>
<p>The IrodsShare module <a class="reference internal" href="usage.html#module-HSAlib" title="HSAlib"><tt class="xref py py-mod docutils literal"><span class="pre">HSAlib</span></tt></a> contains two main classes:</p>
<ul class="simple">
<li><tt class="xref py py-class docutils literal"><span class="pre">HSAccessCore</span></tt>: low-level routines for interacting with iRODS directly.</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">HSAccess</span></tt>: higher level class that inherits from <tt class="xref py py-class docutils literal"><span class="pre">HSAccessCore</span></tt>
and includes usability features.</li>
</ul>
<p>These are the lowest-level routines in the IrodsShare project. For a higher-level interface
suitable for User Interface development, see <a class="reference internal" href="uiobj.html#module-HSAccessObjects" title="HSAccessObjects"><tt class="xref py py-class docutils literal"><span class="pre">HSAccessObjects</span></tt></a>.</p>
<span class="target" id="module-HSAlib"></span><p>The HSAccess library implements access control logic for scientific data sharing. It includes</p>
<ol class="arabic simple">
<li>user registration and privilege handling</li>
<li>group creation and management</li>
<li>resource registration and access control.</li>
</ol>
<div class="section" id="hsaccesscore-irods-hydroshare-communication">
<h2>HSAccessCore: iRODS/HydroShare communication<a class="headerlink" href="#hsaccesscore-irods-hydroshare-communication" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="HSAlib.HSAccessCore">
<em class="property">class </em><tt class="descclassname">HSAlib.</tt><tt class="descname">HSAccessCore</tt><big>(</big><em>irods_user</em>, <em>irods_password</em>, <em>db_database</em>, <em>db_user</em>, <em>db_password</em>, <em>db_host</em>, <em>db_port</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore" title="Permalink to this definition">¶</a></dt>
<dd><p>This class consists of the core methods that contact iRODS</p>
<p>Unlike HSAccess, it does not contain helper functions;
only the functions necessary to the core logic.</p>
<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__assert_group_add">
<tt class="descname">_HSAccessCore__assert_group_add</tt><big>(</big><em>assertion_user_id</em>, <em>group_uuid</em>, <em>group_name</em>, <em>group_active</em>, <em>group_shareable</em>, <em>group_discoverable</em>, <em>group_public</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__assert_group_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add a new group to the registry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>assertion_user_id</strong> (<em>int</em>) &#8211; internal id of requesting user</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier</li>
<li><strong>group_name</strong> (<em>str</em>) &#8211; name of group</li>
<li><strong>group_active</strong> (<em>bool</em>) &#8211; whether group is active.</li>
<li><strong>group_shareable</strong> (<em>bool</em>) &#8211; whether group can be managed by non-owners.</li>
<li><strong>group_discoverable</strong> (<em>bool</em>) &#8211; whether group is discoverable in listings.</li>
<li><strong>group_public</strong> (<em>bool</em>) &#8211; whether group members are listable.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li>This is not subject to access control.</li>
<li>An exception is raised if the group uuid already exists.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__assert_group_update">
<tt class="descname">_HSAccessCore__assert_group_update</tt><big>(</big><em>assertion_user_id</em>, <em>group_uuid</em>, <em>group_name</em>, <em>group_active</em>, <em>group_shareable</em>, <em>group_discoverable</em>, <em>group_public</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__assert_group_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update a group record in the registry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>assertion_user_id</strong> (<em>int</em>) &#8211; internal id of requesting user</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier</li>
<li><strong>group_name</strong> (<em>str</em>) &#8211; name of group</li>
<li><strong>group_active</strong> (<em>bool</em>) &#8211; group active or retired</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Notes:</p>
<ol class="arabic simple">
<li>This is not subject to access control.</li>
<li>An exception is raised if the group uuid does not exist.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__assert_resource_add">
<tt class="descname">_HSAccessCore__assert_resource_add</tt><big>(</big><em>requesting_user_id</em>, <em>resource_uuid</em>, <em>resource_path</em>, <em>resource_title</em>, <em>resource_immutable</em>, <em>resource_published</em>, <em>resource_discoverable</em>, <em>resource_public</em>, <em>resource_shareable</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__assert_resource_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add a new resource to the registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_user_id</strong> &#8211; user id of adding person</li>
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</li>
<li><strong>resource_path</strong> (<em>str</em>) &#8211; path in iRODS</li>
<li><strong>resource_title</strong> (<em>str</em>) &#8211; human-readable title</li>
<li><strong>resource_immutable</strong> (<em>bool</em>) &#8211; whether resource is immutable to change</li>
<li><strong>resource_published</strong> (<em>bool</em>) &#8211; whether resource is published</li>
<li><strong>resource_discoverable</strong> (<em>bool</em>) &#8211; whether the existence of the resource should be advertised to others</li>
<li><strong>resource_public</strong> (<em>bool</em>) &#8211; whether the data of the resource should be available to everyone</li>
<li><strong>resource_shareable</strong> (<em>bool</em>) &#8211; whether resource is shareable by non-owners</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This adds a new and previously non-existent resource to the resource registry. resource_uuid and
resource_path must be unique. If these are not unique, an exception is raised.</p>
<p>Note: this routine is not subject to access control restrictions.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__assert_resource_update">
<tt class="descname">_HSAccessCore__assert_resource_update</tt><big>(</big><em>requesting_user_id</em>, <em>resource_uuid</em>, <em>resource_path</em>, <em>resource_title</em>, <em>resource_immutable</em>, <em>resource_published</em>, <em>resource_discoverable</em>, <em>resource_public</em>, <em>resource_shareable</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__assert_resource_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add a new resource to the registry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_user_id</strong> (<em>int</em>) &#8211; user id of adding person</li>
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</li>
<li><strong>resource_path</strong> (<em>str</em>) &#8211; path in iRODS</li>
<li><strong>resource_title</strong> (<em>str</em>) &#8211; human-readable title</li>
<li><strong>resource_immutable</strong> (<em>bool</em>) &#8211; whether resource is immutable</li>
<li><strong>resource_published</strong> (<em>bool</em>) &#8211; whether resource is published</li>
<li><strong>resource_discoverable</strong> (<em>bool</em>) &#8211; whether the existence of the resource should be advertised to others</li>
<li><strong>resource_public</strong> (<em>bool</em>) &#8211; whether the data of the resource should be available to everyone</li>
<li><strong>resource_shareable</strong> (<em>bool</em>) &#8211; whether resource is shareable by non-owners</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This updates an existing resource to the resource registry. resource_uuid and
resource_path must be unique and a record for resource_uuid must be present.
If these requirements are not met, an exception is raised.</p>
<p>Note: this routine is not subject to access control restrictions.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__assert_user_add">
<tt class="descname">_HSAccessCore__assert_user_add</tt><big>(</big><em>assertion_user_id</em>, <em>user_uuid</em>, <em>user_login</em>, <em>user_name</em>, <em>user_active=True</em>, <em>user_admin=False</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__assert_user_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add a new user record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>assertion_user_id</strong> (<em>int</em>) &#8211; internal user id of user adding the login name</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user to add</li>
<li><strong>user_login</strong> (<em>str</em>) &#8211; user login string: must be unique</li>
<li><strong>user_name</strong> (<em>str</em>) &#8211; user print name</li>
<li><strong>user_active</strong> (<em>bool</em>) &#8211; whether user is active</li>
<li><strong>user_admin</strong> (<em>bool</em>) &#8211; whether user is an administrator</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Add a new previously non-existent user record to the registered users. user_uuid and user_login
must both be independently unique.</p>
<p>This routine is not subject to access control restrictions.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__assert_user_update">
<tt class="descname">_HSAccessCore__assert_user_update</tt><big>(</big><em>assertion_user_id</em>, <em>user_uuid</em>, <em>user_login</em>, <em>user_name</em>, <em>user_active=True</em>, <em>user_admin=False</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__assert_user_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update an existing user record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user_login</strong> (<em>str</em>) &#8211; login of user to update (primary key)</li>
<li><strong>assertion_user_id</strong> (<em>int</em>) &#8211; user adding the login name</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; user uuid string: must be unique</li>
<li><strong>user_name</strong> (<em>str</em>) &#8211; user print name</li>
<li><strong>user_active</strong> (<em>bool</em>) &#8211; whether user is active</li>
<li><strong>user_admin</strong> (<em>bool</em>) &#8211; whether user is an administrator</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Update an existing user record in the registered users table. user_uuid and user_login must
remain independently unique.</p>
<p>This routine is not subject to access control restrictions.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_cumulative_user_privilege_over_group">
<tt class="descname">_HSAccessCore__get_cumulative_user_privilege_over_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_cumulative_user_privilege_over_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the privilege that is specified for a user over a specific group
:type user_uuid: str
:type group_uuid: str
:param user_uuid: uuid of user for which to obtain privilege
:param group_uuid: group to which to allow access
:return: privilege code 1-4
:rtype: int</p>
<p>This returns the cumulative user privilege over a group, including whether the group is public if the
user is not a member. This is a union of privileges from membership and the group public flag.
Note that there is no ownership conflict in this case because a group cannot be made immutable.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_cumulative_user_privilege_over_resource">
<tt class="descname">_HSAccessCore__get_cumulative_user_privilege_over_resource</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_cumulative_user_privilege_over_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize privileges of a user over a resource, incorporating resource flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; uuid of resource</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">int: privilege number 1-4</p>
</td>
</tr>
</tbody>
</table>
<p>The access privileges are the minimum (most powerful) privilege granted by any one user.
These include:</p>
<ol class="arabic">
<li><p class="first">Privileges granted specifically to the user.</p>
</li>
<li><p class="first">Privileges granted via membership in a group.</p>
</li>
<li><p class="first">Privileges granted or removed via resource state flags, including</p>
<blockquote>
<div><ul class="simple">
<li>immutable: override write access for a resource.</li>
<li>public: give read access to everyone.</li>
</ul>
</div></blockquote>
</li>
</ol>
<p>This routine will downgrade owner privileges to read-only for immutable resources.
Thus it is appropriate for use in iRODS, but not in resource metadata manipulation.
See also __get_user_privilege_over_resource().</p>
<p>Note: this routine is not subject to access control. Anyone can read anyone else&#8217;s privileges.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_group_id_from_uuid">
<tt class="descname">_HSAccessCore__get_group_id_from_uuid</tt><big>(</big><em>group_uuid</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_group_id_from_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: translate from group object identifier to database id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group object identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">group_id in HSAccess database, for use in internal functions.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>This returns the private identifier for a group that is used internally as
a join target. This is an integer for speed. This identifier is never exposed
to users or administrators of the system.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_group_name_from_uuid">
<tt class="descname">_HSAccessCore__get_group_name_from_uuid</tt><big>(</big><em>group_uuid</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_group_name_from_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: translate from group object identifier to database id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group object identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">group name</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p>This returns the name of a group from its uuid. Group names are not generally unique and
cannot be used as keys from which to locate groups.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_privilege_from_group_invite">
<tt class="descname">_HSAccessCore__get_privilege_from_group_invite</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_privilege_from_group_invite" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether there is an access record for a specific user, group, and asserting user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of user who needs privilege</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; group id of group to which privilege will be assigned</li>
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of user assigning privilege</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">privilege code 1-4</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_privilege_from_resource_invite">
<tt class="descname">_HSAccessCore__get_privilege_from_resource_invite</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>resource_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_privilege_from_resource_invite" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether there is an access record for a specific user, resource, and asserting user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of user who needs privilege</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; resource id of resource to which privilege will be assigned</li>
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of user assigning privilege</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">privilege code 1-4</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_privilege_id_from_code">
<tt class="descname">_HSAccessCore__get_privilege_id_from_code</tt><big>(</big><em>code</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_privilege_id_from_code" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: translate from privilege code to database id</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> (<em>str:</em>) &#8211; code for privilege level: own, rw, ro, ns</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">privilege_id in database system</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>This routine translates a privilege code into an integer. Current privilege codes include:</p>
<blockquote>
<div><dl class="docutils">
<dt>own</dt>
<dd>owner of resource (1)</dd>
<dt>rw</dt>
<dd>read-write (with sharing privilege) (2)</dd>
<dt>ro</dt>
<dd>read-only (with sharing privilege) (3)</dd>
<dt>ns</dt>
<dd>read-only without privilege to share. (4)</dd>
</dl>
</div></blockquote>
<p>The privilege level for an object is a minimum of all the privilege levels assigned by different people.</p>
<p>For example, if</p>
<ul class="simple">
<li>one owner assigns ownership privilege and, unbeknownst to this owner,</li>
<li>another owner assigns read-only privilege,</li>
</ul>
<p>Then the resulting privilege is &#8220;owner&#8221;.</p>
<p>Note that although these codes are used consistently for privileges over groups and resources,
there is no reasonable meaning for</p>
<ol class="arabic simple">
<li>group ownership of a resource</li>
<li>no sharing for a group</li>
</ol>
<p>Thus, one may not assert these states.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_resource_id_from_uuid">
<tt class="descname">_HSAccessCore__get_resource_id_from_uuid</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_resource_id_from_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: get resource_id from resource digital identifier (uuid)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource object identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">private resource_id in HSAccess database, for use in internal functions.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>This returns the private and internal unique identifier of the resource object.
This id is never exposed to users.</p>
<p>Note: this method is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_resource_uuid_from_path">
<tt class="descname">_HSAccessCore__get_resource_uuid_from_path</tt><big>(</big><em>resource_path</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_resource_uuid_from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: get resource_uuid from (unique) resource path</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_path</strong> (<em>str</em>) &#8211; str: resource object path in iRODS</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">resource_uuid in HSAccess database, for use in internal functions.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>Paths in iRODS are assumed to be unique. This does the same thing as &#8216;__get_resource_id_from_uuid&#8217;
but for paths rather than uuids.</p>
<p>Note: this method is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_id_from_login">
<tt class="descname">_HSAccessCore__get_user_id_from_login</tt><big>(</big><em>login</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_id_from_login" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: get user database id from login name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>login</strong> (<em>str</em>) &#8211; string login name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">integer user id</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_id_from_uuid">
<tt class="descname">_HSAccessCore__get_user_id_from_uuid</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_id_from_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: get user database id from user uuid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">user id for use in internal functions.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>The return value of this function is used as the internal key in the
access control database, but never, ever exposed to users. It is
an integer for speed of joins.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_login_from_uuid">
<tt class="descname">_HSAccessCore__get_user_login_from_uuid</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_login_from_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: get user login name from user uuid e</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">user login name.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p>This returns the login name for a given user uuid. This is currently an iRODS login and has no
meaning in the system. It is used as a last resort in &#8216;assert_user&#8217; to insure that we do not
create users with identical login names, but is otherwise ignored.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_logins">
<tt class="descname">_HSAccessCore__get_user_logins</tt><big>(</big><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_logins" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: Get a list of all registered user logins</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of login names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">List&lt;str&gt;</td>
</tr>
</tbody>
</table>
<p>Gets a list of user login names. These are used internally as unique
identifiers but not accepted as command parameters.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_privilege_over_group">
<tt class="descname">_HSAccessCore__get_user_privilege_over_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_privilege_over_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the privilege that is specified for a user over a specific group
:type user_uuid: str
:type group_uuid: str
:param user_uuid: uuid of user for which to obtain privilege
:param group_uuid: group to which to allow access
:return: privilege number 1-4
:rtype: int</p>
<p>This returns the cumulative user privilege over a group, including whether the group is public if the
user is not a member. This is a union of privileges from membership and the group public flag.
Note that there is no ownership conflict in this case because a group cannot be made immutable.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_privilege_over_resource">
<tt class="descname">_HSAccessCore__get_user_privilege_over_resource</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_privilege_over_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize privileges of a user over a resource, without incorporating resource flags</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; uuid of resource</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">privilege number 1-4</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
<p>The access privileges are the minimum (most powerful) privilege granted by any one user.
These include:</p>
<ol class="arabic simple">
<li>Privileges granted specifically to the user.</li>
<li>Privileges granted via membership in a group.</li>
</ol>
<p>Note: this routine is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__get_user_uuid_from_login">
<tt class="descname">_HSAccessCore__get_user_uuid_from_login</tt><big>(</big><em>login</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__get_user_uuid_from_login" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: get user database id from login name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>login</strong> (<em>str</em>) &#8211; string login name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">user uuid</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
<p>This returns the user uuid from the login name. While this works reliably
because login names are unique, this is only used to construct test cases.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__global_reset">
<tt class="descname">_HSAccessCore__global_reset</tt><big>(</big><em>are_you_sure</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__global_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: Delete all data from the database except for starting situation, for testing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>are_you_sure</strong> (<em>str</em>) &#8211; a string that must have the value &#8220;yes, I&#8217;m sure&#8221;</td>
</tr>
</tbody>
</table>
<p>This clears the database to an install state. This is used for testing,
and never in production.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__group_access_to_resource_exists">
<tt class="descname">_HSAccessCore__group_access_to_resource_exists</tt><big>(</big><em>requesting_id</em>, <em>resource_id</em>, <em>group_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__group_access_to_resource_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: Check whether there is already a privilege record for asserting user, group, and resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_id</strong> (<em>int</em>) &#8211; internal group id of affected group</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; internal resource id of affected resource</li>
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; internal id of user requesting change</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_resource_with_group&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__group_cumulatively_accessible">
<tt class="descname">_HSAccessCore__group_cumulatively_accessible</tt><big>(</big><em>user_uuid</em>, <em>group_uuid</em>, <em>code</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__group_cumulatively_accessible" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: check whether a group is accessible to a user
:type user_uuid: str
:type group_uuid: str
:type code: str
:param user_uuid: uuid of user for whom to check privilege (key to users table)
:param group_uuid: uuid of group for which to check privilege (key to groups table)
:param code: privilege code (key to privileges table)
:return: bool: True if group is accessible to user in the provided mode
:rtype: bool</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__invite_group_user_add">
<tt class="descname">_HSAccessCore__invite_group_user_add</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__invite_group_user_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add new user access for a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; int: id of user requesting change</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; int: id of user to be enabled</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; int: id of group to be modified</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; int: id of privilege to be installed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__invite_group_user_update">
<tt class="descname">_HSAccessCore__invite_group_user_update</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__invite_group_user_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update user access to a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; id of user requesting change</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; id of user to be enabled</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; id of group to be modified</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; id of privilege to be installed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__invite_resource_user_add">
<tt class="descname">_HSAccessCore__invite_resource_user_add</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__invite_resource_user_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add new user access for a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; int: id of user requesting change</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; int: id of user to be enabled</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; int: id of resource to be modified</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; int: id of privilege to be installed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__invite_resource_user_update">
<tt class="descname">_HSAccessCore__invite_resource_user_update</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__invite_resource_user_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update user access to a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; id of user requesting change</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; id of user to be enabled</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; id of resource to be modified</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; id of privilege to be installed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__resource_accessible">
<tt class="descname">_HSAccessCore__resource_accessible</tt><big>(</big><em>user_uuid</em>, <em>resource_uuid</em>, <em>code</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__resource_accessible" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if resource is accessible to a specific user in a specific way</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; user uuid, key to users table</li>
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource uuid: key to resources table</li>
<li><strong>code</strong> (<em>str</em>) &#8211; privilege code: key to privileges table</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if resource is accessible to user in the mode indicated by code</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>This routine checks if a resource is accessible at a given level.
The codes include:</p>
<blockquote>
<div><dl class="docutils">
<dt>own</dt>
<dd>ownership</dd>
<dt>rw</dt>
<dd>read-write</dd>
<dt>ro</dt>
<dd>read-only</dd>
</dl>
</div></blockquote>
<p>This is very tricky. This routine returns the protection according to the protection system
but does not account for flags. If it did, then flagging a resource as immutable would take
away its owners.</p>
<p>Actual privilege according to resource flags is accounted for in the routines
resource_is_readwrite, resource_is_readonly.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__resource_cumulatively_accessible">
<tt class="descname">_HSAccessCore__resource_cumulatively_accessible</tt><big>(</big><em>user_uuid</em>, <em>resource_uuid</em>, <em>code</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__resource_cumulatively_accessible" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if resource is accessible in a specific way, combining both user and resource permissions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; user uuid, key to users table</li>
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource uuid: key to resources table</li>
<li><strong>code</strong> (<em>str</em>) &#8211; privilege code: key to privileges table</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if resource is accessible to user in the mode indicated by code</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>This routine checks if a resource is accessible at a given level.
The codes include:</p>
<blockquote>
<div><dl class="docutils">
<dt>own</dt>
<dd>ownership</dd>
<dt>rw</dt>
<dd>read-write</dd>
<dt>ro</dt>
<dd>read-only</dd>
</dl>
</div></blockquote>
<p>This is very tricky. This routine returns the protection according to the protection system
but does not account for flags. If it did, then flagging a resource as immutable would take
away its owners.</p>
<p>Actual privilege according to resource flags is accounted for in the routines
resource_is_readwrite, resource_is_readonly.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_group_user_add">
<tt class="descname">_HSAccessCore__share_group_user_add</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_group_user_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add new user access for a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; int: id of user requesting change</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; int: id of user to be enabled</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; int: id of group to be modified</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; int: id of privilege to be installed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_group_with_user&#8217;. It does not have access control.
There must not already be a privilege record for the user, group, and current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_group_user_update">
<tt class="descname">_HSAccessCore__share_group_user_update</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_group_user_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update user access to a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; id of user requesting change</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; id of user to be enabled</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; id of group to be modified</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; id of privilege to be installed</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_group_with_user&#8217;. It does not have access control.
There must already be a privilege record for the user, group, and current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_group_with_user">
<tt class="descname">_HSAccessCore__share_group_with_user</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_group_with_user" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: unpoliced share of group with user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; internal id of requesting user</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; internal id of user to gain privilege</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; internal id of group to which to grant privilege</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_group_with_user&#8217;. It does not have access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_resource_group_add">
<tt class="descname">_HSAccessCore__share_resource_group_add</tt><big>(</big><em>requesting_id</em>, <em>group_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_resource_group_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add a new group sharing record for a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; id of requesting user</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; id of group to modify</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; id of resource to modify</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; privilege to assign</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_resource_with_group&#8217;.</p>
<p>The group sharing record must not exist or an exception is raised.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_resource_group_update">
<tt class="descname">_HSAccessCore__share_resource_group_update</tt><big>(</big><em>requesting_id</em>, <em>group_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_resource_group_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update group sharing record for a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; id of requesting user</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; id of group to modify</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; id of resource to modify</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; privilege to assign</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_resource_with_group&#8217;.</p>
<p>The group sharing record must exist or an exception is raised.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_resource_user_add">
<tt class="descname">_HSAccessCore__share_resource_user_add</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_resource_user_add" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: add a user record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of requesting user</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of affected user</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; resource id of affected resource</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; privilege id to assign</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_resource_with_user&#8217;. If the resource record
to be updated does not exist, an exception is raised.</p>
<p>Note: this routine is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_resource_user_update">
<tt class="descname">_HSAccessCore__share_resource_user_update</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_resource_user_update" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: update a user record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of requesting user</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of affected user</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; resource id of affected resource</li>
<li><strong>privilege_id</strong> (<em>int</em>) &#8211; privilege id to assign</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8220;share_resource_with_user&#8221;. If the resource record
to be updated does not exist, an exception is raised.</p>
<p>Note: this routine is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__share_resource_with_user">
<tt class="descname">_HSAccessCore__share_resource_with_user</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>resource_id</em>, <em>privilege_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__share_resource_with_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Share a resource with a user at a given privilege level.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>int</strong> (<em>privilege_id</em>) &#8211; id of requesting user</li>
<li><strong>int</strong> &#8211; user id of user to which to grant privilege</li>
<li><strong>int</strong> &#8211; resource id to which to grant privilege</li>
<li><strong>int</strong> &#8211; privilege to grant</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__user_access_to_group_exists">
<tt class="descname">_HSAccessCore__user_access_to_group_exists</tt><big>(</big><em>requesting_id</em>, <em>user_id</em>, <em>group_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__user_access_to_group_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: Test whether there is an access record for a specific user, group, and asserting user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of user assigning privilege</li>
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of user who needs privilege</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; group id of group to which privilege will be assigned</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8216;share_group_with_user&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__user_access_to_resource_exists">
<tt class="descname">_HSAccessCore__user_access_to_resource_exists</tt><big>(</big><em>user_id</em>, <em>resource_id</em>, <em>asserting_user_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__user_access_to_resource_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>PRIVATE: Determine whether there is a record currently sharing the resource, by this user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>int</em>) &#8211; id of user to gain privilege</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; id of resource on which to grant privilege</li>
<li><strong>asserting_user_id</strong> (<em>int</em>) &#8211; id of user granting privilege</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if there is a current record for this triple</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>This is a helper routine for &#8220;share_resource_with_user&#8221;.
Note: this routine is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__user_invite_to_group_exists">
<tt class="descname">_HSAccessCore__user_invite_to_group_exists</tt><big>(</big><em>requesting_id</em>, <em>group_id</em>, <em>user_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__user_invite_to_group_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether there is an access record for a specific user, group, and asserting user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of user who needs privilege</li>
<li><strong>group_id</strong> (<em>int</em>) &#8211; group id of group to which privilege will be assigned</li>
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of user assigning privilege</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if the invitation exists.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore._HSAccessCore__user_invite_to_resource_exists">
<tt class="descname">_HSAccessCore__user_invite_to_resource_exists</tt><big>(</big><em>requesting_id</em>, <em>resource_id</em>, <em>user_id</em><big>)</big><a class="headerlink" href="#HSAlib.HSAccessCore._HSAccessCore__user_invite_to_resource_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether there is an access record for a specific user, resource, and asserting user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_id</strong> (<em>int</em>) &#8211; user id of user who needs privilege</li>
<li><strong>resource_id</strong> (<em>int</em>) &#8211; resource id of resource to which privilege will be assigned</li>
<li><strong>requesting_id</strong> (<em>int</em>) &#8211; user id of user assigning privilege</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">True if there is already an invitation to use a resource.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="HSAlib.HSAccessCore.__weakref__">
<tt class="descname">__weakref__</tt><a class="headerlink" href="#HSAlib.HSAccessCore.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.accept_invitation_to_group">
<tt class="descname">accept_invitation_to_group</tt><big>(</big><em>group_uuid</em>, <em>host_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.accept_invitation_to_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.accept_invitation_to_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept an invitation to join a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; uuid of group for which to accept invitation</li>
<li><strong>host_uuid</strong> (<em>str</em>) &#8211; user uuid of person who invited you</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Accept an invitation to a group previously made by another user via
&#8216;invite_user_to_group&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.accept_invitation_to_resource">
<tt class="descname">accept_invitation_to_resource</tt><big>(</big><em>resource_uuid</em>, <em>host_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.accept_invitation_to_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.accept_invitation_to_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Accept an invitation to join a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; uuid of resource for which to accept invitation</li>
<li><strong>host_uuid</strong> (<em>str</em>) &#8211; user uuid of person who invited you</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Accept an invitation to a resource previously made by another user via
&#8216;invite_user_to_resource&#8217;</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_folder">
<tt class="descname">assert_folder</tt><big>(</big><em>folder_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Create a folder in the user_folders relation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>folder_name</strong> (<em>str</em>) &#8211; The name of the folder</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the identity of the current user.
Folders are local to the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_group">
<tt class="descname">assert_group</tt><big>(</big><em>group_name</em>, <em>group_active=True</em>, <em>group_shareable=True</em>, <em>group_discoverable=True</em>, <em>group_public=True</em>, <em>group_uuid=None</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Register or update a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group_name</strong> (<em>str</em>) &#8211; str: name of group</li>
<li><strong>group_active</strong> (<em>bool</em>) &#8211; bool: whether group is active</li>
<li><strong>group_shareable</strong> (<em>bool</em>) &#8211; bool: whether group can be managed by non-owners.</li>
<li><strong>group_discoverable</strong> (<em>bool</em>) &#8211; bool: whether group and owners are discoverable in listings.</li>
<li><strong>group_public</strong> (<em>bool</em>) &#8211; bool: whether group members are publicly accessible.</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; str: group identifier, if omitted or unset, then a new group_uuid is created and returned.</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; user identifier; omit to utilize current user.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">uuid of group just modified; created if necessary.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>This creates a new group subject to several conventions:</p>
<ol class="arabic simple">
<li>if group_uuid is None, then a new group uuid is created.</li>
<li>if user_uuid is not None and the current user has admin privilege,
then the operation is undertaken on behalf of the stated user.</li>
</ol>
<p>This is also subject to access control limits:</p>
<ol class="arabic simple">
<li>Any regular user can create a group</li>
<li>After the group is created, a regular user can only change its name.</li>
<li>All other changes to a group require administrative privilege.</li>
<li>The group_uuid is set forever and cannot change.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">ensure that regular users cannot change too much!</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_group_metadata">
<tt class="descname">assert_group_metadata</tt><big>(</big><em>metadata</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_group_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_group_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert changes in user metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> &#8211; a metadata record as returned by get_group_metadata</td>
</tr>
</tbody>
</table>
<p>This asserts changes in group metadata subject to the restrictions in &#8216;assert_group&#8217;.
It can be used to create new groups as well as to edit group metadata.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_resource">
<tt class="descname">assert_resource</tt><big>(</big><em>resource_path</em>, <em>resource_title</em>, <em>resource_uuid=None</em>, <em>user_uuid=None</em>, <em>resource_immutable=False</em>, <em>resource_published=False</em>, <em>resource_discoverable=False</em>, <em>resource_public=False</em>, <em>resource_shareable=True</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or modify a resource in the resource registry</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_path</strong> (<em>str</em>) &#8211; path to resource in iRODS  title</li>
<li><strong>resource_title</strong> (<em>str</em>) &#8211; human-readable title</li>
<li><strong>resource_immutable</strong> (<em>bool</em>) &#8211; whether resource is immutable</li>
<li><strong>resource_published</strong> (<em>bool</em>) &#8211; whether resource is published</li>
<li><strong>resource_discoverable</strong> (<em>bool</em>) &#8211; whether the existence of the resource should be advertised to others</li>
<li><strong>resource_public</strong> (<em>bool</em>) &#8211; whether the data of the resource should be available to everyone</li>
<li><strong>resource_shareable</strong> (<em>bool</em>) &#8211; whether resource is shareable by non-owners</li>
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; user identifier of asserting user; omit to use current user.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">resource identifier used</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>This routine creates or changes resource parameters.</p>
<p>This is subject to several access control rules:</p>
<ol class="arabic simple">
<li>If resource_uuid is not None, it takes this parameter as the uuid of the resource.</li>
<li>If resource_uuid is None, it first tries to locate the path in the resources table.
Notwithstanding that, it creates a new resource uuid.</li>
</ol>
<p>Then it creates or updates a record and returns the resource uuid</p>
<p>Regular users can:</p>
<ol class="arabic simple">
<li>Create a new resource.</li>
<li>Edit the title only of an existing resource.</li>
</ol>
<p>Administrative users can:</p>
<ol class="arabic simple">
<li>Act as proxy for other users.</li>
<li>Edit any part of the resource registration.</li>
</ol>
<p>If user_uuid is not None, then the operation is done on behalf of the stated user
as an administrator. If admin privileges are not present in this case,
an exception is raised.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_resource_has_tag">
<tt class="descname">assert_resource_has_tag</tt><big>(</big><em>resource_uuid</em>, <em>tag_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_resource_has_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_resource_has_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Assign a resource a previously created tag</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; identifier of resource to put into tag</li>
<li><strong>tag_name</strong> (<em>str</em>) &#8211; name of the tag</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the identity of the current user.
Tags are local to the current user.
Multiple asserts with different tags apply all of them</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_resource_in_folder">
<tt class="descname">assert_resource_in_folder</tt><big>(</big><em>resource_uuid</em>, <em>folder_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_resource_in_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_resource_in_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Put a resource into a previously created folder</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; identifier of resource to put into folder</li>
<li><strong>folder_name</strong> (<em>str</em>) &#8211; name of the folder</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the identity of the current user.
Folders are local to the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_resource_metadata">
<tt class="descname">assert_resource_metadata</tt><big>(</big><em>metadata</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_resource_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_resource_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert changes in resource metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> (<em>dict</em>) &#8211; a metadata record as returned by get_resource_metadata</td>
</tr>
</tbody>
</table>
<p>This is a wrapper for &#8216;assert_resource&#8217; that connects it to a return value
format from &#8216;get_resource_metadata&#8217;. This can be used to edit resource
fields incrementally.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_tag">
<tt class="descname">assert_tag</tt><big>(</big><em>tag_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Create a tag in the user_tags relation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tag_name</strong> (<em>str</em>) &#8211; The name of the tag</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the identity of the current user.</p>
<p>Registers a tag for later uses. This assures that tags are unambiguous when applied.
Folders are local to the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_user">
<tt class="descname">assert_user</tt><big>(</big><em>user_login</em>, <em>user_name</em>, <em>user_active=True</em>, <em>user_admin=False</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Register or update the registration of a user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user_login</strong> (<em>str</em>) &#8211; user login name</li>
<li><strong>user_name</strong> (<em>str</em>) &#8211; str: user print name</li>
<li><strong>user_active</strong> (<em>bool</em>) &#8211; bool: whether user is active</li>
<li><strong>user_admin</strong> (<em>bool</em>) &#8211; bool: whether user is an admin</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid to register or update; leave out to register a new user</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is used in two forms:</p>
<ol class="arabic simple">
<li>with user_uuid absent, it attempts to register a new user. Note if the specified
login is found, that is utilized as a unique key and that record is updated instead.</li>
<li>with user_uuid present, it updates the metadata record for that user.</li>
</ol>
<p>The access control model disallows certain changes to this record:</p>
<ol class="arabic simple">
<li>Changes to whether a user is active or an administrator can only be made by an administrative user.</li>
<li>Regular users can only change their print names (user_name).</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">check logic for what a user can change.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.assert_user_metadata">
<tt class="descname">assert_user_metadata</tt><big>(</big><em>metadata</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.assert_user_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.assert_user_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert changes in user metadata</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>metadata</strong> (<em>dict&lt;str, str&gt;</em>) &#8211; a metadata record returned by get_user_metadata</td>
</tr>
</tbody>
</table>
<p>Permissible assertions are those permissible to the currently logged-in user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_cumulative_user_privilege_over_group">
<tt class="descname">get_cumulative_user_privilege_over_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_cumulative_user_privilege_over_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_cumulative_user_privilege_over_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Get privilege code for user over a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; </li>
<li><strong>group_uuid</strong> &#8211; uuid of group</li>
<li><strong>user_uuid</strong> &#8211; uuid of user; omit to report on current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">one of &#8216;own&#8217;, &#8216;rw&#8217;, &#8216;ro&#8217;, &#8216;none&#8217;</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>This checks for both user group permissions and group flags, including group_public.
This returns one of the following strings:</p>
<blockquote>
<div><p>&#8216;own&#8217;</p>
<blockquote>
<div>User owns this resource</div></blockquote>
<p>&#8216;rw&#8217;</p>
<blockquote>
<div>User can change this resource</div></blockquote>
<p>&#8216;ro&#8217;</p>
<blockquote>
<div>User can read but not change this resource</div></blockquote>
<p>&#8216;none&#8217;</p>
<blockquote>
<div>No privilege over resource</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_cumulative_user_privilege_over_resource">
<tt class="descname">get_cumulative_user_privilege_over_resource</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_cumulative_user_privilege_over_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_cumulative_user_privilege_over_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Get privilege code for user over a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; </li>
<li><strong>resource_uuid</strong> &#8211; uuid of resource</li>
<li><strong>user_uuid</strong> &#8211; uuid of user; omit to report on current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">one of &#8216;own&#8217;, &#8216;rw&#8217;, &#8216;ro&#8217;, or &#8216;none&#8217;</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>This checks for both user resource permissions and resource flags.
This returns one of the following strings:</p>
<blockquote>
<div><p>&#8216;own&#8217;</p>
<blockquote>
<div>User owns this resource</div></blockquote>
<p>&#8216;rw&#8217;</p>
<blockquote>
<div>User can change thsi resource</div></blockquote>
<p>&#8216;ro&#8217;</p>
<blockquote>
<div>User can read but not change this resource</div></blockquote>
<p>&#8216;none&#8217;</p>
<blockquote>
<div>No privilege over resource</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_folders">
<tt class="descname">get_folders</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_folders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_folders" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Return a list of folders for this user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of folder names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">List&lt;str&gt;</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): current user identity</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_group_invitations_for_user">
<tt class="descname">get_group_invitations_for_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_group_invitations_for_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_group_invitations_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of invitations to join groups that can be accepted or refused</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit for current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict of group invitations.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This is from the point of view of the invited user.
List group invitations in the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &#39;group_uuid&#39;: {uuid of group},
    &#39;group_name&#39;: {name of group},
    &#39;group_privilege&#39;: {privilege_code},
    &#39;inviting_user_uuid&#39;: {uuid of inviting user},
    &#39;inviting_user_name&#39;: {name of inviting user},
    &#39;inviting_user_login&#39;: {login of inviting user}
}
</pre></div>
</div>
<p>Note: this has been refactored to have a single level of dict objects rather than two.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_group_invitations_sent_by_user">
<tt class="descname">get_group_invitations_sent_by_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_group_invitations_sent_by_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_group_invitations_sent_by_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of invitations to join groups that can be uninvited</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit for current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict of invitations sent by a user</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This is from the point of view of the inviting user. List group invitations in the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &#39;group_uuid&#39;: {uuid of group},
    &#39;group_name&#39;: {name of group},
    &#39;group_privilege&#39;: {privilege_code},
    &#39;inviting_user_uuid&#39;: {uuid of inviting user},
    &#39;inviting_user_name&#39;: {name of inviting user},
    &#39;inviting_user_login&#39;: {login of inviting user}
}
</pre></div>
</div>
<p>Note: this has been refactored to have a single level of dict objects rather than two.
Note: this has been refactored to report on a single group object</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_group_members">
<tt class="descname">get_group_members</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_group_members"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_group_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of members of a specific group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> &#8211; the group to report on; omit to report on current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of dicts describing groups</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>This returns a list of groups in the following format::</dt>
<dd>{ &#8216;name&#8217;: <em>name of group</em>, &#8216;uuid&#8217;: <em>uuid of group</em> } ]</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_group_metadata">
<tt class="descname">get_group_metadata</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_group_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_group_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get metadata for a group as a dict record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> &#8211; uuid of group</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">dict of group metadata</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This returns a dictionary record with the structure:</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &#39;uuid&#39;: *uuid of group*,
    &#39;name&#39;: *name of group*,
    &#39;active&#39;: *whether group is active*,
    &#39;discoverable&#39;: *whether group existence is discoverable*,
    &#39;public&#39;: *whether group members are published*,
    &#39;asserting_login&#39;: *login of user who last changed metadata*,
    &#39;asserting_uuid&#39;: *uuid of user who last changed metadata*,
    &#39;assertion_time&#39;: *time of last metadata change*
}
</pre></div>
</div>
<p>This value can be edited and used as an argument to &#8216;assert_group_metadata&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_groups">
<tt class="descname">get_groups</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information on all existing groups</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of all group uuids and names, as dictionary objects</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This returns a list of elements of the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{ &#39;uuid&#39;: *uuid of group*, &#39;name&#39;: *name of group* }
</pre></div>
</div>
<p>sorted in order of group name. Group names do not have to be unique.</p>
<p>The &#8216;uuid&#8217; element can be used as input to &#8216;get_group_metadata&#8217; to learn more about the group.</p>
<p>Note: this method is not currently subject to access control. The access control document does
not limit group visibility; just membership.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_groups_for_user">
<tt class="descname">get_groups_for_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_groups_for_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_groups_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of groups relevant to a specific user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> &#8211; the user to report on; omit to report on current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">list of dicts describing groups</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>This returns a list of groups in the following format::</dt>
<dd>{ &#8216;name&#8217;: <em>name of group</em>, &#8216;uuid&#8217;: <em>uuid of group</em> } ]</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_groups_holding_resource">
<tt class="descname">get_groups_holding_resource</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_groups_holding_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_groups_holding_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve resources accessible to a specific group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; uuid of the resource to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of Dicts describing groups</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<p>This returns a list of groups that can access a resource, in the format:</p>
<blockquote>
<div>{
&#8216;uuid&#8217;: <em>uuid of group</em>,
&#8216;name&#8217;: <em>name of group</em>,
&#8216;privilege&#8217;: <em>privilege code</em>
}</div></blockquote>
<p>Note: this is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_login">
<tt class="descname">get_login</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_login"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_login" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the (iRODS) login name of the current user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">login name of current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_number_of_group_owners">
<tt class="descname">get_number_of_group_owners</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_number_of_group_owners"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_number_of_group_owners" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of resource owners for a resource, for reporting purposes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; identifier of group to report upon</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of owners</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_number_of_groups_of_user">
<tt class="descname">get_number_of_groups_of_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_number_of_groups_of_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_number_of_groups_of_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of groups in which a user is a member</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; identifier of group to report upon; None reports upon current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of groups joined</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>Note: this reports on any user independent of the privilege of the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_number_of_groups_owned_by_user">
<tt class="descname">get_number_of_groups_owned_by_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_number_of_groups_owned_by_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_number_of_groups_owned_by_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of groups owned by a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; identifier of group to report upon; None reports upon current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of groups owned</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>Note: this reports on any user independent of the privilege of the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_number_of_resource_owners">
<tt class="descname">get_number_of_resource_owners</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_number_of_resource_owners"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_number_of_resource_owners" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of resource owners for a resource, for reporting purposes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; identifier of resource to report upon</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of owners</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_number_of_resources_held_by_user">
<tt class="descname">get_number_of_resources_held_by_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_number_of_resources_held_by_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_number_of_resources_held_by_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of resources held by a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; identifier of group to report upon; None reports upon current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of resources held</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>Note: this reports on any user independent of the privilege of the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_number_of_resources_owned_by_user">
<tt class="descname">get_number_of_resources_owned_by_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_number_of_resources_owned_by_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_number_of_resources_owned_by_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of resources owned by a user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; identifier of group to report upon; None reports upon current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">number of resources owned</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p>Note: this reports on any user independent of the privilege of the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resource_invitations_for_user">
<tt class="descname">get_resource_invitations_for_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resource_invitations_for_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resource_invitations_for_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of invitations to join resources that can be accepted or refused</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit for current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict of resource invitations.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This is from the point of view of the invited user.
List resource invitations in the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &#39;resource_uuid&#39;: {uuid of resource},
    &#39;resource_title&#39;: {name of resource},
    &#39;resource_privilege&#39;: {privilege_code},
    &#39;inviting_user_uuid&#39;: {uuid of inviting user},
    &#39;inviting_user_name&#39;: {name of inviting user},
    &#39;inviting_user_login&#39;: {login of inviting user}
}
</pre></div>
</div>
<p>Note: this has been refactored to have a single level of dict objects rather than two.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resource_invitations_sent_by_user">
<tt class="descname">get_resource_invitations_sent_by_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resource_invitations_sent_by_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resource_invitations_sent_by_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of invitations to join resources that can be uninvited</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit for current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict of invitations sent by user.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This is from the point of view of the inviting user. List resource invitations in the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{
    &#39;resource_uuid&#39;: {uuid of resource},
    &#39;resource_title&#39;: {name of resource},
    &#39;resource_privilege&#39;: {privilege_code},
    &#39;inviting_user_uuid&#39;: {uuid of inviting user},
    &#39;inviting_user_name&#39;: {name of inviting user},
    &#39;inviting_user_login&#39;: {login of inviting user}
}
</pre></div>
</div>
<p>Note: this has been refactored to have a single level of dict objects rather than two.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resource_metadata">
<tt class="descname">get_resource_metadata</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resource_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resource_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get metadata for a resource as a dict record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier for which to fetch metadata</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict object containing all metadata for a resource.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This returns a dictionary item of the format:</p>
<div class="highlight-python"><div class="highlight"><pre>{
&#39;title&#39;: *title of resource*,
&#39;uuid&#39;: *uuid of resource*,
&#39;path&#39;: *path of resource*,
&#39;shareable&#39;: *whether resource is shareable*,
&#39;discoverable&#39;: *whether resource is discoverable*,
&#39;public&#39;: *whether resource is publicly accessible*,
&#39;published&#39;: *whether resource is published and has a DOI*,
&#39;immutable&#39;: *whether resource is immutable*,
&#39;asserting_login&#39;: *login of user who made last change to metadata*,
&#39;asserting_uuid&#39;: *uuid of user who made last change to metadata*,
&#39;assertion_time&#39;: *time of last change to metadata*
}
</pre></div>
</div>
<p>The record returned from &#8216;get_resource_metadata&#8217; is suitable for use in
&#8216;assert_resource_metadata&#8217; and may be used for things like cloning resources.</p>
<p>The &#8216;asserting_uuid&#8217; is not used during &#8216;assert_resource_metadata&#8217;; this is a record
of &#8220;who to blame&#8221; for the last change.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resources_by_tag">
<tt class="descname">get_resources_by_tag</tt><big>(</big><em>tag=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resources_by_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resources_by_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Get a structured dictionary of tags and their contents</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tag</strong> (<em>str</em>) &#8211; the name of a tag to use</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict object of contents</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict&lt;str&gt;</td>
</tr>
</tbody>
</table>
<p>Uses: self.get_uuid(): the current user.
This returns a dictionary structure of the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{ &quot;tag&quot;: { resource_uuid : { title : *resource title*, &#39;access&#39; : *access code* }}}
</pre></div>
</div>
<p>If tag argument is not None, report on only one tag.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resources_held_by_group">
<tt class="descname">get_resources_held_by_group</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resources_held_by_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resources_held_by_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve resources accessible to a specific group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; uuid of the group to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of Dicts of resource info</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<p>This returns a list of resources accessible to a specific group, in the format:</p>
<div class="highlight-python"><div class="highlight"><pre>{
&#39;uuid&#39;: *uuid of resource*,
&#39;title&#39;: *title of resource*,
&#39;path&#39;: *path of resource*,
&#39;privilege&#39;: *privilege code*
}
</pre></div>
</div>
<p>Note: this is not subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resources_held_by_user">
<tt class="descname">get_resources_held_by_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resources_held_by_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resources_held_by_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a list of resources held by user, sorted by title</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit for current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of resources containing dict items</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<p>This returns a list of resource dict records, in the format:</p>
<div class="highlight-python"><div class="highlight"><pre>{
&#39;uuid&#39;: *uuid of resource*,
&#39;title&#39;: *title of resource*,
&#39;path&#39;: *path of resource*,
&#39;privilege&#39;: *privilege code*
}
</pre></div>
</div>
<p>Note: this is not currently subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_resources_in_folders">
<tt class="descname">get_resources_in_folders</tt><big>(</big><em>folder=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_resources_in_folders"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_resources_in_folders" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Get a structured dictionary of folders and their contents</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>folder</strong> (<em>str</em>) &#8211; the optional name of a folder to use as the top of the hierarchy</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict object of contents</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict&lt;str&gt;</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the current user.</p>
<p>This returns a dictionary structure of the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{ folder: { resource_uuid : { title : *resource title*, &#39;access&#39; : *access code* }}}
</pre></div>
</div>
<ol class="arabic simple">
<li>If folder is None, report on the whole hierarchy of user folders</li>
<li>If folder is not None, report on only one chosen folder.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_tags">
<tt class="descname">get_tags</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Return a list of tags for this user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A list of tag names</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">List&lt;str&gt;</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): current user identity</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_user_metadata">
<tt class="descname">get_user_metadata</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_user_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_user_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Get metadata for a user as a dict record</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user for which to fetch metadata; If None, then return data on current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dict of metadata for the login specified</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Dict</td>
</tr>
</tbody>
</table>
<p>This gives more complete information than &#8216;get_users&#8217;, including the date of user creation.
The extra data is not utilize in &#8216;assert_user_metadata&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_user_privilege_over_group">
<tt class="descname">get_user_privilege_over_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_user_privilege_over_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_user_privilege_over_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Get privilege code for user over a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; </li>
<li><strong>group_uuid</strong> &#8211; uuid of group</li>
<li><strong>user_uuid</strong> &#8211; uuid of user; omit to report on current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">one of &#8216;own&#8217;, &#8216;rw&#8217;, &#8216;ro&#8217;, or &#8216;none&#8217;</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>This checks for both user group permissions and group flags, including group_public.
This returns one of the following strings:</p>
<blockquote>
<div><p>&#8216;own&#8217;</p>
<blockquote>
<div>User owns this resource</div></blockquote>
<p>&#8216;rw&#8217;</p>
<blockquote>
<div>User can change this resource</div></blockquote>
<p>&#8216;ro&#8217;</p>
<blockquote>
<div>User can read but not change this resource</div></blockquote>
<p>&#8216;none&#8217;</p>
<blockquote>
<div>No privilege over resource</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_user_privilege_over_resource">
<tt class="descname">get_user_privilege_over_resource</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_user_privilege_over_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_user_privilege_over_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Get privilege code for user over a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; </li>
<li><strong>resource_uuid</strong> &#8211; uuid of resource</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">one of &#8216;own&#8217;, &#8216;rw&#8217;, &#8216;ro&#8217;, &#8216;none&#8217;</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
<p>This returns one of the following strings:</p>
<blockquote>
<div><p>&#8216;own&#8217;</p>
<blockquote>
<div>User owns this resource</div></blockquote>
<p>&#8216;rw&#8217;</p>
<blockquote>
<div>User can change thsi resource</div></blockquote>
<p>&#8216;ro&#8217;</p>
<blockquote>
<div>User can read but not change this resource</div></blockquote>
<p>&#8216;none&#8217;</p>
<blockquote>
<div>No privilege over resource</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_users">
<tt class="descname">get_users</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_users"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the registered user list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of user metadata dictionaries</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<p>Return format is a list of dictionaries of the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{
&#39;login&#39;: *user_login*,
&#39;uuid&#39;: *user uuid*,
&#39;name&#39;: *user name*,
&#39;active&#39;: *true if user is active*,
&#39;admin&#39;:  *true if user is admin*
}
</pre></div>
</div>
<p>These entries can be edited and used as input to &#8216;assert_user_metadata&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_users_holding_resource">
<tt class="descname">get_users_holding_resource</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_users_holding_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_users_holding_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a list of resources held by user, sorted by title</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit for current user.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of resources containing dict items</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<p>This returns a list of user dict records, in the format:</p>
<div class="highlight-python"><div class="highlight"><pre>{
&#39;uuid&#39;: *uuid of user*,
&#39;name&#39;: *name of user*,
&#39;login&#39;: *login of user*,
&#39;privilege&#39;: *privilege code*
}
</pre></div>
</div>
<p>Note: this is not currently subject to access control.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.get_uuid">
<tt class="descname">get_uuid</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.get_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.get_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the uuid of the current user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">uuid of current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_exists">
<tt class="descname">group_exists</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether group identifier (uuid) is registered</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group object identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">whether group object identifier is registered</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>This is used to avoid execution exceptions by ensuring that a group uuid
is valid before performing further actions.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_active">
<tt class="descname">group_is_active</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_active"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>True if a group is active</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if group is active.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_discoverable">
<tt class="descname">group_is_discoverable</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_discoverable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_discoverable" title="Permalink to this definition">¶</a></dt>
<dd><p>True if a group is discoverable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if group is discoverable.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>If a group is discoverable, then it appears in the active groups along with its owner contact information.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_owned">
<tt class="descname">group_is_owned</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_owned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_owned" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a group is owned by a user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user to check</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group uuid of group to check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if group uuid is owned by user uuid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_public">
<tt class="descname">group_is_public</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_public" title="Permalink to this definition">¶</a></dt>
<dd><p>True if a group is public</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if group is discoverable.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>If a group is public, then others can see group members.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_readable">
<tt class="descname">group_is_readable</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_readable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_readable" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a group is readable by a user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user to check</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group uuid of group to check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if group uuid is readable by user uuid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_readwrite">
<tt class="descname">group_is_readwrite</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_readwrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_readwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a group is owned by a user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user to check</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group uuid of group to check</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if group uuid is read/write to user uuid</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.group_is_shareable">
<tt class="descname">group_is_shareable</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.group_is_shareable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.group_is_shareable" title="Permalink to this definition">¶</a></dt>
<dd><p>True if a group is shareable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if group is shareable.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>If a group is shareable, then users with readwrite privilege can invite members. Otherwise, they cannot.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.groups_of_user">
<tt class="descname">groups_of_user</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.groups_of_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.groups_of_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a list of groups in which a user is a member.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user, or None to use current authorized user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of Dict entries for groups of user.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List&lt;Dict&gt;</td>
</tr>
</tbody>
</table>
<p>This returns a list of dictionaries, each of the form:</p>
<div class="highlight-python"><div class="highlight"><pre>{
&#39;uuid&#39;: *group&#39;s uuid*,
&#39;name&#39;: *group&#39;s name*
}
</pre></div>
</div>
<p>for use in displaying group data.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.invite_user_to_group">
<tt class="descname">invite_user_to_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid</em>, <em>privilege_code='ro'</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.invite_user_to_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.invite_user_to_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Invite a user into a group. The user must accept in a separate step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_uuid</strong> &#8211; </li>
<li><strong>user_uuid</strong> &#8211; </li>
<li><strong>privilege_code</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.invite_user_to_resource">
<tt class="descname">invite_user_to_resource</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid</em>, <em>privilege_code='ro'</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.invite_user_to_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.invite_user_to_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Invite a user into a resource. The user must accept in a separate step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> &#8211; </li>
<li><strong>user_uuid</strong> &#8211; </li>
<li><strong>privilege_code</strong> &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.refuse_invitation_to_group">
<tt class="descname">refuse_invitation_to_group</tt><big>(</big><em>group_uuid</em>, <em>host_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.refuse_invitation_to_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.refuse_invitation_to_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Refuse an invitation to join a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_uuid</strong> &#8211; </li>
<li><strong>host_uuid</strong> &#8211; user uuid of person who invited</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Refuse an invitation created with &#8216;invite_user_to_group&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.refuse_invitation_to_resource">
<tt class="descname">refuse_invitation_to_resource</tt><big>(</big><em>resource_uuid</em>, <em>host_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.refuse_invitation_to_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.refuse_invitation_to_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Refuse an invitation to join a resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> &#8211; </li>
<li><strong>host_uuid</strong> &#8211; user uuid of person who invited</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Refuse an invitation created with &#8216;invite_user_to_resource&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_exists">
<tt class="descname">resource_exists</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a resource is registered in the database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">whether resource is registered</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>This determines whether a given resource uuid corresponds to an existing resource.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_discoverable">
<tt class="descname">resource_is_discoverable</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_discoverable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_discoverable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether resource is flagged as discoverable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool: whether resource has been flagged as published</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_immutable">
<tt class="descname">resource_is_immutable</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_immutable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_immutable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether resource is flagged as immutable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if resource has been flagged as immutable</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>If a resource is immutable:</p>
<ol class="arabic simple">
<li>All write access is denied by all users regardless of privilege. This includes
resource deletion and any changes to any aspect of the resource. Even owners have no
privileges other than read over an immutable resource.</li>
<li>Only an administrative user can promote a resource from immutable to mutable.
Other users must instead copy the resource to a new location.</li>
</ol>
<p>The spirit of the immutable flag is that the affected resource&#8217;s landing page can then safely be
issued a data citation.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_owned">
<tt class="descname">resource_is_owned</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_owned"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_owned" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a given resource is owned by a specific user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier for resource to be checked for access</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user whose privileges should be checked; omit to check current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if user owns resource.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>This routine is a bit strange, because ownership &#8211; unlike read/write and read-only privileges &#8211;
is not subject to overrides from resource flags including &#8216;immutable&#8217; and &#8216;public&#8221;.</p>
<p>Thus &#8211; in particular &#8211; it is possible for an immutable resource to be <em>owned but not writeable</em>.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_public">
<tt class="descname">resource_is_public</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_public"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_public" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether resource is flagged as public</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool: whether resource has been flagged as published</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_published">
<tt class="descname">resource_is_published</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_published"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_published" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether resource is flagged as published</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool: whether resource has been flagged as published</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_readable">
<tt class="descname">resource_is_readable</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_readable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_readable" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a given resource is readable by a specific user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier for resource to be checked for access</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user whose privileges should be checked; omit to check current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if user has read-only privilege over resource.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>This is subject to resource override flags including &#8216;immutable&#8217; and &#8216;public&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_readwrite">
<tt class="descname">resource_is_readwrite</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_readwrite"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_readwrite" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a given resource is read/write to a specific user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier for resource to be checked for access</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user whose privileges should be checked; omit to check current user</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if user has readwrite privilege over resource.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>This is subject to resource override flags including &#8216;immutable&#8217; and &#8216;public&#8217;.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.resource_is_shareable">
<tt class="descname">resource_is_shareable</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.resource_is_shareable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.resource_is_shareable" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether resource is flagged as shareable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">bool: whether resource has been flagged as published</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.retract_folder">
<tt class="descname">retract_folder</tt><big>(</big><em>folder_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.retract_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.retract_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Remove a folder; things in the folder become &#8220;unfiled&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>folder_name</strong> (<em>str</em>) &#8211; The name of the folder</td>
</tr>
</tbody>
</table>
<p>Uses: self.get_uuid(): the identity of the current user.
Folders are local to the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.retract_group">
<tt class="descname">retract_group</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.retract_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.retract_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a group and all membership information</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; uuid of group to delete</td>
</tr>
</tbody>
</table>
<p>Retractions are handled via database cascade logic. This deletes all information about the
group, including every resource held with that group.</p>
<p><em>Consider making a group inactive instead of using this routine.</em></p>
<p>Restrictions:</p>
<ol class="arabic simple">
<li>Only the owner of the group or an administrator can do this.</li>
</ol>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">fix cascade logic in database so that this always works correctly. Currently
there is a band-aid fix that does the cascade in the application.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.retract_resource_has_tag">
<tt class="descname">retract_resource_has_tag</tt><big>(</big><em>resource_uuid</em>, <em>tag_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.retract_resource_has_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.retract_resource_has_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Remove a tag from a resource; it becomes untagged.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; identifier of resource to put into tag</li>
<li><strong>tag_name</strong> (<em>str</em>) &#8211; name of the tag</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the identity of the current user.
Tags are local to the current user.
This removes an assertion of one tag while leaving the others alone.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.retract_resource_in_folder">
<tt class="descname">retract_resource_in_folder</tt><big>(</big><em>resource_uuid</em>, <em>folder_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.retract_resource_in_folder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.retract_resource_in_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Remove a resource from a folder; it becomes unfiled.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; identifier of resource to put into folder</li>
<li><strong>folder_name</strong> (<em>str</em>) &#8211; name of the folder</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.retract_tag">
<tt class="descname">retract_tag</tt><big>(</big><em>tag_name</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.retract_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.retract_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>STUB: Remove a tag; things in the tag become &#8220;untagged&#8221;</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tag_name</strong> (<em>str</em>) &#8211; The name of the tag</td>
</tr>
</tbody>
</table>
<p>Uses self.get_uuid(): the identity of the current user.</p>
<p>Unregisters a tag along with all of uses of that tag on resources.
Folders are local to the current user.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.share_group_with_user">
<tt class="descname">share_group_with_user</tt><big>(</big><em>group_uuid</em>, <em>user_uuid</em>, <em>privilege_code='ro'</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.share_group_with_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.share_group_with_user" title="Permalink to this definition">¶</a></dt>
<dd><p>DEPRECATED: Attempt to share a group with a user: this allows read/write to the group membership list</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier of group to which privilege should be assigned</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user to whom privilege should be granted</li>
<li><strong>privilege_code</strong> (<em>str</em>) &#8211; privilege to be granted.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This routine has been replaced by the invite/accept/refuse/uninvite interface, including:
* invite_user_to_group (for inviter)
* uninvite_user_to_group (for inviter)
* accept_invitation_to_group (for invitee)
* refuse_invitation_to_group (for invitee)
* get_invitations_to_group (for invitee)</p>
<p>This is a direct sharing of a group without user permission.</p>
<p>Preconditions:</p>
<ol class="arabic simple">
<li>current user must have equivalent or stronger access to group (or admin privileges).</li>
</ol>
<p>Postconditions:</p>
<ol class="arabic simple" start="2">
<li>User is made a member of the group at the chosen level.</li>
</ol>
<p>This may be repeated without harm to downgrade or upgrade members one has previously invited.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Todo:</th><td class="field-body">not safe from removing last owner</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.share_resource_with_group">
<tt class="descname">share_resource_with_group</tt><big>(</big><em>resource_uuid</em>, <em>group_uuid</em>, <em>privilege_code='ns'</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.share_resource_with_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.share_resource_with_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Share a resource with a group of users</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; the resource to be shared</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; the group with which to share it: self.get_uuid() must be a member.</li>
<li><strong>privilege_code</strong> (<em>str</em>) &#8211; the privilege to assign: must be less than or equal to self.get_uuid()&#8217;s privilege</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Share a resource with a group as the current user.</p>
<p>Preconditions:</p>
<ol class="arabic simple">
<li>Current user must be a member of the group, or have administrative privilege.</li>
<li>Current user must have the same or more comprehensive access to the resource than for the share,
or administrative privilege.</li>
</ol>
<p>Postconditions: resource is shared with all members of the group. Privileges changes for all group members
as individuals, simultaneously.</p>
<p>This works the same whether this is the first or a subsequent time the resource is shared. A user can
downgrade or upgrade sharing privileges for a resource at will.</p>
<p>Note: if a user shares a privilege that is then revoked for that user, the sharing privilege persists
for the object.  It is possible to downgrade privilege assigned by a user whose privilege has been
downgraded, but this has not been implemented.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.share_resource_with_user">
<tt class="descname">share_resource_with_user</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid</em>, <em>privilege_code='ns'</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.share_resource_with_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.share_resource_with_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Share a specific resource with a specific user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> &#8211; str: uuid of resource to affect (key to resource table)</li>
<li><strong>user_uuid</strong> &#8211; str: login name of user to gain access (key to users table)</li>
<li><strong>privilege_code</strong> &#8211; str: privilege to grant (key to privileges table)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This shares a resource with a user other than self. The current user is implicitly
the initiator of the sharing.</p>
<p>This is subject to several restrictions:</p>
<ol class="arabic simple">
<li>A user may not share a resource with self.</li>
<li>A user may not share a resource at a higher privilege level than that held by the user.</li>
<li>A user may only update records created by that user, e.g., to upgrade or downgrade sharing
privileges for another user.</li>
<li>An administrative user may arbitrarily change sharing parameters.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.uninvite_user_to_group">
<tt class="descname">uninvite_user_to_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.uninvite_user_to_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.uninvite_user_to_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Uninvite a user the current user invited; does not undo other invitations</p>
<p>Revoke an invitation to join a group
:param group_uuid: uuid of group
:param user_uuid: uuid of user</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.uninvite_user_to_resource">
<tt class="descname">uninvite_user_to_resource</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.uninvite_user_to_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.uninvite_user_to_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Uninvite a user the current user invited; does not undo other invitations</p>
<p>Revoke an invitation to join a resource
:param resource_uuid: uuid of resource
:param user_uuid: uuid of user</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.unshare_group_with_user">
<tt class="descname">unshare_group_with_user</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.unshare_group_with_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.unshare_group_with_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to unshare a group with a user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group identifier of group for which privilege should be removed.</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user for whom privilege should be removed; omit for current user.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>There are three conditions under which one can unshare a group with a user, either:</p>
<ol class="arabic simple">
<li>user has admin, or</li>
<li>user owns the group, or</li>
<li>user is the user in question and wishes to leave the group</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.unshare_resource_with_group">
<tt class="descname">unshare_resource_with_group</tt><big>(</big><em>resource_uuid</em>, <em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.unshare_resource_with_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.unshare_resource_with_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all sharing with user (owner or administrator only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource to change</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group with whom resource is currently potentially shared</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Only a group owner or administrator may revoke all privileges over a resource.  This
includes all grants of privilege no matter what the source within the group.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.unshare_resource_with_user">
<tt class="descname">unshare_resource_with_user</tt><big>(</big><em>resource_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.unshare_resource_with_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.unshare_resource_with_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all sharing with user (owner only)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>resource_uuid</strong> (<em>str</em>) &#8211; resource to change</li>
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; user with whom resource is currently shared; omit for current user</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Note: since sharing is cumulative, each user sharing a document with another must separately retract sharing
before all sharing is removed. It is possible that a user will have several different paths to a resource.</p>
<p>This routine unshares a resource under three possible conditions; either:
1. user is admin, or</p>
<ol class="arabic simple" start="2">
<li>user owns resource, or</li>
<li>user is the sharing target: one should be able to &#8220;forget&#8221; a share if necessary</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.user_exists">
<tt class="descname">user_exists</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.user_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.user_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a login name is registered in the HSAccess database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if user exists</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>This checks a uuid and returns True if it exists. This is used to avoid
unintentional exceptions from use of a non-existent uuid.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.user_in_group">
<tt class="descname">user_in_group</tt><big>(</big><em>group_uuid</em>, <em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.user_in_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.user_in_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a user is a member of a group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of a valid user, omit to check current user</li>
<li><strong>group_uuid</strong> (<em>str</em>) &#8211; group uuid of a valid group</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">bool: True if the uuid is in the group</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Note: this uses user_group_privilege whereas access uses cumulative_user_group_privilege.
The reason for this is that membership must not account for public groups (which is most of them).</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.user_is_active">
<tt class="descname">user_is_active</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.user_is_active"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.user_is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a user uuid is an active user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if user is active.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>This reports whether a given user is active. Inactive users cannot login or access anything,
but their privileges and owned documents are kept intact. It is legal for a resource or group
to be owned by an inactive user, and groups and resources originally created by an inactive user
continue to be available to others. Whether a group is active is independent of whether its
owner is active.</p>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccessCore.user_is_admin">
<tt class="descname">user_is_admin</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessCore.user_is_admin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessCore.user_is_admin" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine whether a user identified by uuid has admin privileges</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; uuid of user; omit to report on current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">True if user has admin privileges</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>This reports whether the given user has administrative privileges.
Administrative users can, for example:</p>
<ol class="arabic simple">
<li>register new users with &#8216;assert_user&#8217;</li>
<li>impersonate a given user and perform selected operations by proxy for the user.</li>
</ol>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hsaccess-convenience-functions">
<h2>HSAccess: Convenience functions<a class="headerlink" href="#hsaccess-convenience-functions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="HSAlib.HSAccess">
<em class="property">class </em><tt class="descclassname">HSAlib.</tt><tt class="descname">HSAccess</tt><big>(</big><em>irods_user</em>, <em>irods_password</em>, <em>db_database</em>, <em>db_user</em>, <em>db_password</em>, <em>db_host</em>, <em>db_port</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Access control class for HydroShare Users, Resources, and Groups</p>
<dl class="method">
<dt id="HSAlib.HSAccess.get_group_print_name">
<tt class="descname">get_group_print_name</tt><big>(</big><em>group_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccess.get_group_print_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccess.get_group_print_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a print name for any given group</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>group_uuid</strong> (<em>str</em>) &#8211; identifier of group</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">print name for requested group</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccess.get_resource_print_name">
<tt class="descname">get_resource_print_name</tt><big>(</big><em>resource_uuid</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccess.get_resource_print_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccess.get_resource_print_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a print name for any given resource</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>resource_uuid</strong> (<em>str</em>) &#8211; identifier of resource</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">print name for requested resource</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="HSAlib.HSAccess.get_user_print_name">
<tt class="descname">get_user_print_name</tt><big>(</big><em>user_uuid=None</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccess.get_user_print_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccess.get_user_print_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a print name for any given user</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>user_uuid</strong> (<em>str</em>) &#8211; identifier of user, None for current user</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">print name for requested user</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="HSAlib.HSAccessException">
<em class="property">class </em><tt class="descclassname">HSAlib.</tt><tt class="descname">HSAccessException</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAccessException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAccessException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for access-level problems</p>
</dd></dl>

<dl class="class">
<dt id="HSAlib.HSAUsageException">
<em class="property">class </em><tt class="descclassname">HSAlib.</tt><tt class="descname">HSAUsageException</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAUsageException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAUsageException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for parameter usage problems.</p>
</dd></dl>

<dl class="class">
<dt id="HSAlib.HSAIntegrityException">
<em class="property">class </em><tt class="descclassname">HSAlib.</tt><tt class="descname">HSAIntegrityException</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="_modules/HSAlib.html#HSAIntegrityException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#HSAlib.HSAIntegrityException" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception class for database failures.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">IrodsShare module documentation</a><ul>
<li><a class="reference internal" href="#hsaccesscore-irods-hydroshare-communication">HSAccessCore: iRODS/HydroShare communication</a></li>
<li><a class="reference internal" href="#hsaccess-convenience-functions">HSAccess: Convenience functions</a></li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="usage.html"
                        title="previous chapter">IrodsShare HSAccess usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="objects.html"
                        title="next chapter">IrodsShare Object Library</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/module.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="objects.html" title="IrodsShare Object Library"
             >next</a> |</li>
        <li class="right" >
          <a href="usage.html" title="IrodsShare HSAccess usage"
             >previous</a> |</li>
        <li><a href="index.html">IrodsShare 0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, Alva Couch et al..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.3.
    </div>
  </body>
</html>